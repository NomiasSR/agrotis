<!DOCTYPE html>
<html lang="en">
<head>
<title>Agrotis - Sistemas para o Agronegócio</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>


<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.6.0/css/bootstrap.min.css"/>
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs4-4.6.0/dt-1.12.1/datatables.min.css"/> 
<script type="text/javascript" src="https://cdn.datatables.net/v/bs4-4.6.0/dt-1.12.1/datatables.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.6.0/js/bootstrap.min.js"></script>
<link rel="stylesheet" href="/css/estilos.css">

</head>

<body style="background: #E5E5E5;">

<div class="barra_topo">
	<img src="/img/logo_agrotis.png" />
	<label class="label_barra_topo">AGROTIS</label>
</div>

<div style="padding: 40px;">
<div style="background-color: white; ">
	<div class="barra_aplicacao">
	  <div class="titulo_barra_aplicacao">
	  	<div style="float: left; width: 50%">
	  		Teste front-end - Index
	  	</div>
			<div id="btnNovoCadastro" style="text-align: right; padding-right: 20px; cursor: pointer;">
		  	Novo Cadastro
		  </div>
	  </div>
	<div>
</div>
</div>
	
<table class="table table-light">
<tr class="table-dark">
    <th></th>
    <th scope="col">Nome</th>
    <th scope="col">Cargo</th>
    <th scope="col">Email</th>
    <th scope="col">Salario</th>
    <th scope="col">Setor</th>
    <th scope="col"></th>
</tr>
</table>

<script>
$(document).ready(function() {
	$(document).ready(function () {
		fetch('http://localhost:8080/teste-agrotis/')
		.catch(err => alert("Erro ao ler os dados para edição (teste-agrotis)"))
		.then(response => response.json())
		.then(dados => {		
			if (dados == null) 
				alert("Erro ao ler os dados para edição (Teste-agrotis)");
			else {
				document.getElementById("nome").value = dados['nome'];			
				let temp = dados['dataInicial'];
				let dataInicial = temp.substr(8, 2)+"/"+temp.substr(5, 2)+"/"+temp.substr(0, 4);
				temp = dados['dataFinal'];
				let dataFinal = temp.substr(8, 2)+"/"+temp.substr(5, 2)+"/"+temp.substr(0, 4);
				document.getElementById("dataInicial").value = dataInicial;
				document.getElementById("dataFinal").value = dataFinal;
				document.getElementById("propriedades").value = dados['propriedadeId'];
				document.getElementById("laboratorios").value = dados['laboratorioId'];
				document.getElementById("observacoes").value = dados['observacoes'];
			}
		})
	})
});
</script>
</body>
</html>
